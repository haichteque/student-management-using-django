{"created": 1765027127.3798254, "duration": 8.3512601852417, "exitcode": 1, "root": "C:\\Users\\Muhammad Qasim\\Desktop\\student-management-using-django", "environment": {}, "summary": {"passed": 79, "xfailed": 10, "xpassed": 2, "failed": 1, "total": 92, "collected": 92}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "tests", "type": "Dir"}]}, {"nodeid": "tests/test_hod_views.py", "outcome": "passed", "result": [{"nodeid": "tests/test_hod_views.py::test_admin_home", "type": "Function", "lineno": 12}, {"nodeid": "tests/test_hod_views.py::test_add_staff_post_success", "type": "Function", "lineno": 42}, {"nodeid": "tests/test_hod_views.py::test_add_staff_post_invalid", "type": "Function", "lineno": 93}, {"nodeid": "tests/test_hod_views.py::test_add_staff_post_exception", "type": "Function", "lineno": 109}, {"nodeid": "tests/test_hod_views.py::test_add_staff_get", "type": "Function", "lineno": 131}, {"nodeid": "tests/test_hod_views.py::test_add_student_post_success", "type": "Function", "lineno": 139}, {"nodeid": "tests/test_hod_views.py::test_add_student_post_invalid", "type": "Function", "lineno": 167}, {"nodeid": "tests/test_hod_views.py::test_add_student_post_exception", "type": "Function", "lineno": 181}, {"nodeid": "tests/test_hod_views.py::test_add_student_get", "type": "Function", "lineno": 204}, {"nodeid": "tests/test_hod_views.py::test_add_course_post_success", "type": "Function", "lineno": 212}, {"nodeid": "tests/test_hod_views.py::test_add_course_post_exception", "type": "Function", "lineno": 233}, {"nodeid": "tests/test_hod_views.py::test_add_course_post_invalid", "type": "Function", "lineno": 253}, {"nodeid": "tests/test_hod_views.py::test_add_course_get", "type": "Function", "lineno": 267}, {"nodeid": "tests/test_hod_views.py::test_add_subject_post_success", "type": "Function", "lineno": 275}, {"nodeid": "tests/test_hod_views.py::test_add_subject_post_exception", "type": "Function", "lineno": 296}, {"nodeid": "tests/test_hod_views.py::test_add_subject_post_invalid", "type": "Function", "lineno": 315}, {"nodeid": "tests/test_hod_views.py::test_add_subject_get", "type": "Function", "lineno": 329}, {"nodeid": "tests/test_hod_views.py::test_manage_staff", "type": "Function", "lineno": 337}, {"nodeid": "tests/test_hod_views.py::test_manage_student", "type": "Function", "lineno": 345}, {"nodeid": "tests/test_hod_views.py::test_manage_course", "type": "Function", "lineno": 353}, {"nodeid": "tests/test_hod_views.py::test_edit_staff_get", "type": "Function", "lineno": 366}, {"nodeid": "tests/test_hod_views.py::test_edit_staff_post_success", "type": "Function", "lineno": 382}, {"nodeid": "tests/test_hod_views.py::test_edit_staff_post_invalid", "type": "Function", "lineno": 411}, {"nodeid": "tests/test_hod_views.py::test_edit_student_get", "type": "Function", "lineno": 426}, {"nodeid": "tests/test_hod_views.py::test_edit_course_get", "type": "Function", "lineno": 435}, {"nodeid": "tests/test_hod_views.py::test_add_session_post_success", "type": "Function", "lineno": 448}, {"nodeid": "tests/test_hod_views.py::test_add_session_post_exception", "type": "Function", "lineno": 464}, {"nodeid": "tests/test_hod_views.py::test_add_session_post_invalid", "type": "Function", "lineno": 479}, {"nodeid": "tests/test_hod_views.py::test_add_session_get", "type": "Function", "lineno": 493}, {"nodeid": "tests/test_hod_views.py::test_manage_session", "type": "Function", "lineno": 499}, {"nodeid": "tests/test_hod_views.py::test_edit_session_get", "type": "Function", "lineno": 507}, {"nodeid": "tests/test_hod_views.py::test_edit_session_post_success", "type": "Function", "lineno": 516}, {"nodeid": "tests/test_hod_views.py::test_check_email_availability", "type": "Function", "lineno": 536}, {"nodeid": "tests/test_hod_views.py::test_student_feedback_message_get", "type": "Function", "lineno": 549}, {"nodeid": "tests/test_hod_views.py::test_student_feedback_message_post", "type": "Function", "lineno": 556}, {"nodeid": "tests/test_hod_views.py::test_staff_feedback_message_get", "type": "Function", "lineno": 568}, {"nodeid": "tests/test_hod_views.py::test_staff_feedback_message_post", "type": "Function", "lineno": 575}, {"nodeid": "tests/test_hod_views.py::test_view_staff_leave_get", "type": "Function", "lineno": 587}, {"nodeid": "tests/test_hod_views.py::test_view_staff_leave_post", "type": "Function", "lineno": 594}, {"nodeid": "tests/test_hod_views.py::test_view_student_leave_get", "type": "Function", "lineno": 607}, {"nodeid": "tests/test_hod_views.py::test_view_student_leave_post", "type": "Function", "lineno": 614}, {"nodeid": "tests/test_hod_views.py::test_admin_view_attendance", "type": "Function", "lineno": 627}, {"nodeid": "tests/test_hod_views.py::test_get_admin_attendance", "type": "Function", "lineno": 635}, {"nodeid": "tests/test_hod_views.py::test_admin_view_profile_get", "type": "Function", "lineno": 651}, {"nodeid": "tests/test_hod_views.py::test_admin_view_profile_post", "type": "Function", "lineno": 665}, {"nodeid": "tests/test_hod_views.py::test_admin_notify_staff", "type": "Function", "lineno": 688}, {"nodeid": "tests/test_hod_views.py::test_admin_notify_student", "type": "Function", "lineno": 695}, {"nodeid": "tests/test_hod_views.py::test_send_student_notification", "type": "Function", "lineno": 702}, {"nodeid": "tests/test_hod_views.py::test_send_staff_notification", "type": "Function", "lineno": 717}, {"nodeid": "tests/test_hod_views.py::test_delete_staff", "type": "Function", "lineno": 732}, {"nodeid": "tests/test_hod_views.py::test_delete_student", "type": "Function", "lineno": 747}, {"nodeid": "tests/test_hod_views.py::test_delete_course", "type": "Function", "lineno": 762}, {"nodeid": "tests/test_hod_views.py::test_delete_subject", "type": "Function", "lineno": 777}, {"nodeid": "tests/test_hod_views.py::test_delete_session", "type": "Function", "lineno": 792}]}, {"nodeid": "tests/test_staff_views.py", "outcome": "passed", "result": [{"nodeid": "tests/test_staff_views.py::test_staff_home", "type": "Function", "lineno": 11}, {"nodeid": "tests/test_staff_views.py::test_staff_take_attendance", "type": "Function", "lineno": 32}, {"nodeid": "tests/test_staff_views.py::test_get_students", "type": "Function", "lineno": 52}, {"nodeid": "tests/test_staff_views.py::test_save_attendance", "type": "Function", "lineno": 82}, {"nodeid": "tests/test_staff_views.py::test_staff_update_attendance", "type": "Function", "lineno": 105}, {"nodeid": "tests/test_staff_views.py::test_get_student_attendance", "type": "Function", "lineno": 122}, {"nodeid": "tests/test_staff_views.py::test_update_attendance", "type": "Function", "lineno": 139}, {"nodeid": "tests/test_staff_views.py::test_staff_apply_leave_get", "type": "Function", "lineno": 163}, {"nodeid": "tests/test_staff_views.py::test_staff_apply_leave_post", "type": "Function", "lineno": 179}, {"nodeid": "tests/test_staff_views.py::test_staff_feedback_get", "type": "Function", "lineno": 204}, {"nodeid": "tests/test_staff_views.py::test_staff_feedback_post", "type": "Function", "lineno": 220}, {"nodeid": "tests/test_staff_views.py::test_staff_view_profile_post_patched", "type": "Function", "lineno": 245}, {"nodeid": "tests/test_staff_views.py::test_staff_fcmtoken", "type": "Function", "lineno": 273}, {"nodeid": "tests/test_staff_views.py::test_staff_view_notification", "type": "Function", "lineno": 292}, {"nodeid": "tests/test_staff_views.py::test_staff_add_result_get", "type": "Function", "lineno": 308}, {"nodeid": "tests/test_staff_views.py::test_staff_add_result_post", "type": "Function", "lineno": 325}, {"nodeid": "tests/test_staff_views.py::test_fetch_student_result", "type": "Function", "lineno": 359}]}, {"nodeid": "tests/test_student_views.py", "outcome": "passed", "result": [{"nodeid": "tests/test_student_views.py::test_student_home", "type": "Function", "lineno": 9}, {"nodeid": "tests/test_student_views.py::test_student_view_attendance_get", "type": "Function", "lineno": 35}, {"nodeid": "tests/test_student_views.py::test_student_view_attendance_post", "type": "Function", "lineno": 51}, {"nodeid": "tests/test_student_views.py::test_student_apply_leave_get", "type": "Function", "lineno": 80}, {"nodeid": "tests/test_student_views.py::test_student_apply_leave_post", "type": "Function", "lineno": 96}, {"nodeid": "tests/test_student_views.py::test_student_feedback_get", "type": "Function", "lineno": 121}, {"nodeid": "tests/test_student_views.py::test_student_feedback_post", "type": "Function", "lineno": 137}, {"nodeid": "tests/test_student_views.py::test_student_view_profile_post", "type": "Function", "lineno": 162}, {"nodeid": "tests/test_student_views.py::test_student_fcmtoken", "type": "Function", "lineno": 190}, {"nodeid": "tests/test_student_views.py::test_student_view_notification", "type": "Function", "lineno": 206}, {"nodeid": "tests/test_student_views.py::test_student_view_result", "type": "Function", "lineno": 222}]}, {"nodeid": "tests/test_views.py", "outcome": "passed", "result": [{"nodeid": "tests/test_views.py::test_login_page_get", "type": "Function", "lineno": 9}, {"nodeid": "tests/test_views.py::test_login_page_authenticated_admin", "type": "Function", "lineno": 17}, {"nodeid": "tests/test_views.py::test_login_page_authenticated_staff", "type": "Function", "lineno": 27}, {"nodeid": "tests/test_views.py::test_login_page_authenticated_student", "type": "Function", "lineno": 37}, {"nodeid": "tests/test_views.py::test_doLogin_get", "type": "Function", "lineno": 47}, {"nodeid": "tests/test_views.py::test_doLogin_post_success_admin", "type": "Function", "lineno": 54}, {"nodeid": "tests/test_views.py::test_doLogin_post_invalid_captcha", "type": "Function", "lineno": 78}, {"nodeid": "tests/test_views.py::test_doLogin_post_invalid_credentials", "type": "Function", "lineno": 96}, {"nodeid": "tests/test_views.py::test_logout_user", "type": "Function", "lineno": 116}, {"nodeid": "tests/test_views.py::test_get_attendance", "type": "Function", "lineno": 127}]}, {"nodeid": "tests", "outcome": "passed", "result": [{"nodeid": "tests/test_hod_views.py", "type": "Module"}, {"nodeid": "tests/test_staff_views.py", "type": "Module"}, {"nodeid": "tests/test_student_views.py", "type": "Module"}, {"nodeid": "tests/test_views.py", "type": "Module"}]}], "tests": [{"nodeid": "tests/test_hod_views.py::test_admin_home", "lineno": 12, "outcome": "passed", "keywords": ["test_admin_home", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.8056374999869149, "outcome": "passed"}, "call": {"duration": 0.12242280000646133, "outcome": "passed"}, "teardown": {"duration": 0.0012909999932162464, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_add_staff_post_success", "lineno": 42, "outcome": "passed", "keywords": ["test_add_staff_post_success", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0021825000003445894, "outcome": "passed"}, "call": {"duration": 0.007015600000158884, "outcome": "passed"}, "teardown": {"duration": 0.00109790000715293, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_add_staff_post_invalid", "lineno": 93, "outcome": "passed", "keywords": ["test_add_staff_post_invalid", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0018197999888798222, "outcome": "passed"}, "call": {"duration": 0.009968700003810227, "outcome": "passed"}, "teardown": {"duration": 0.0009730000019771978, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_add_staff_post_exception", "lineno": 109, "outcome": "passed", "keywords": ["test_add_staff_post_exception", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017509000026620924, "outcome": "passed"}, "call": {"duration": 0.008559099995181896, "outcome": "passed"}, "teardown": {"duration": 0.0009888999920804054, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_add_staff_get", "lineno": 131, "outcome": "passed", "keywords": ["test_add_staff_get", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0018331000028410926, "outcome": "passed"}, "call": {"duration": 0.03060410000034608, "outcome": "passed"}, "teardown": {"duration": 0.0010122999956365675, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_add_student_post_success", "lineno": 139, "outcome": "passed", "keywords": ["test_add_student_post_success", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0016887000092538074, "outcome": "passed"}, "call": {"duration": 0.008173499998520128, "outcome": "passed"}, "teardown": {"duration": 0.0009820999985095114, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_add_student_post_invalid", "lineno": 167, "outcome": "passed", "keywords": ["test_add_student_post_invalid", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.001688000003923662, "outcome": "passed"}, "call": {"duration": 0.008034500002395362, "outcome": "passed"}, "teardown": {"duration": 0.0010118999925907701, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_add_student_post_exception", "lineno": 181, "outcome": "passed", "keywords": ["test_add_student_post_exception", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017888000002130866, "outcome": "passed"}, "call": {"duration": 0.007822599989594892, "outcome": "passed"}, "teardown": {"duration": 0.0009683999960543588, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_add_student_get", "lineno": 204, "outcome": "passed", "keywords": ["test_add_student_get", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0016869000100996345, "outcome": "passed"}, "call": {"duration": 0.011215100006666034, "outcome": "passed"}, "teardown": {"duration": 0.000990000000456348, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_add_course_post_success", "lineno": 212, "outcome": "passed", "keywords": ["test_add_course_post_success", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017244000046048313, "outcome": "passed"}, "call": {"duration": 0.0034389000065857545, "outcome": "passed"}, "teardown": {"duration": 0.0010199000098509714, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_add_course_post_exception", "lineno": 233, "outcome": "passed", "keywords": ["test_add_course_post_exception", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0020726999937323853, "outcome": "passed"}, "call": {"duration": 0.00838820000353735, "outcome": "passed"}, "teardown": {"duration": 0.001038899994455278, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_add_course_post_invalid", "lineno": 253, "outcome": "passed", "keywords": ["test_add_course_post_invalid", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017283999914070591, "outcome": "passed"}, "call": {"duration": 0.005786399997305125, "outcome": "passed"}, "teardown": {"duration": 0.0009812000062083825, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_add_course_get", "lineno": 267, "outcome": "passed", "keywords": ["test_add_course_get", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0016480999911436811, "outcome": "passed"}, "call": {"duration": 0.004479800001718104, "outcome": "passed"}, "teardown": {"duration": 0.0009521000029053539, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_add_subject_post_success", "lineno": 275, "outcome": "passed", "keywords": ["test_add_subject_post_success", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.002393100003246218, "outcome": "passed"}, "call": {"duration": 0.003907299993443303, "outcome": "passed"}, "teardown": {"duration": 0.0010178000084124506, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_add_subject_post_exception", "lineno": 296, "outcome": "passed", "keywords": ["test_add_subject_post_exception", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.001695400002063252, "outcome": "passed"}, "call": {"duration": 0.00897560000885278, "outcome": "passed"}, "teardown": {"duration": 0.0010131000017281622, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_add_subject_post_invalid", "lineno": 315, "outcome": "passed", "keywords": ["test_add_subject_post_invalid", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017211999947903678, "outcome": "passed"}, "call": {"duration": 0.008308300006319769, "outcome": "passed"}, "teardown": {"duration": 0.0011503000132506713, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_add_subject_get", "lineno": 329, "outcome": "passed", "keywords": ["test_add_subject_get", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0016839000018080696, "outcome": "passed"}, "call": {"duration": 0.007106200006091967, "outcome": "passed"}, "teardown": {"duration": 0.0009595000010449439, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_manage_staff", "lineno": 337, "outcome": "passed", "keywords": ["test_manage_staff", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0016307999903801829, "outcome": "passed"}, "call": {"duration": 0.007220300001790747, "outcome": "passed"}, "teardown": {"duration": 0.0010020000045187771, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_manage_student", "lineno": 345, "outcome": "passed", "keywords": ["test_manage_student", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0016370000084862113, "outcome": "passed"}, "call": {"duration": 0.006749399995896965, "outcome": "passed"}, "teardown": {"duration": 0.001348699996015057, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_manage_course", "lineno": 353, "outcome": "passed", "keywords": ["test_manage_course", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0016896999877644703, "outcome": "passed"}, "call": {"duration": 0.006845299998531118, "outcome": "passed"}, "teardown": {"duration": 0.0010261999996146187, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_edit_staff_get", "lineno": 366, "outcome": "passed", "keywords": ["test_edit_staff_get", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017106000013882294, "outcome": "passed"}, "call": {"duration": 0.008991300011985004, "outcome": "passed"}, "teardown": {"duration": 0.0010311999940313399, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_edit_staff_post_success", "lineno": 382, "outcome": "passed", "keywords": ["test_edit_staff_post_success", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017907000001287088, "outcome": "passed"}, "call": {"duration": 0.004651399998692796, "outcome": "passed"}, "teardown": {"duration": 0.001010299994959496, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_edit_staff_post_invalid", "lineno": 411, "outcome": "passed", "keywords": ["test_edit_staff_post_invalid", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0016845000063767657, "outcome": "passed"}, "call": {"duration": 0.0025535000022500753, "outcome": "passed"}, "teardown": {"duration": 0.0009931000095093623, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_edit_student_get", "lineno": 426, "outcome": "passed", "keywords": ["test_edit_student_get", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0016770999936852604, "outcome": "passed"}, "call": {"duration": 0.007401199996820651, "outcome": "passed"}, "teardown": {"duration": 0.0010260999988531694, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_edit_course_get", "lineno": 435, "outcome": "passed", "keywords": ["test_edit_course_get", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017174999957205728, "outcome": "passed"}, "call": {"duration": 0.007516300000133924, "outcome": "passed"}, "teardown": {"duration": 0.0010225000005448237, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_add_session_post_success", "lineno": 448, "outcome": "passed", "keywords": ["test_add_session_post_success", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.002022100001340732, "outcome": "passed"}, "call": {"duration": 0.0030486000032396987, "outcome": "passed"}, "teardown": {"duration": 0.0009163999930024147, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_add_session_post_exception", "lineno": 464, "outcome": "passed", "keywords": ["test_add_session_post_exception", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017215999978361651, "outcome": "passed"}, "call": {"duration": 0.0100726999953622, "outcome": "passed"}, "teardown": {"duration": 0.0009629999985918403, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_add_session_post_invalid", "lineno": 479, "outcome": "passed", "keywords": ["test_add_session_post_invalid", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017383000085828826, "outcome": "passed"}, "call": {"duration": 0.005872599998838268, "outcome": "passed"}, "teardown": {"duration": 0.0009592000133125111, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_add_session_get", "lineno": 493, "outcome": "passed", "keywords": ["test_add_session_get", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0016654999926686287, "outcome": "passed"}, "call": {"duration": 0.006089000002248213, "outcome": "passed"}, "teardown": {"duration": 0.0009627999970689416, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_manage_session", "lineno": 499, "outcome": "passed", "keywords": ["test_manage_session", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017056999931810424, "outcome": "passed"}, "call": {"duration": 0.028722700008074753, "outcome": "passed"}, "teardown": {"duration": 0.0011301999911665916, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_edit_session_get", "lineno": 507, "outcome": "passed", "keywords": ["test_edit_session_get", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017851000011432916, "outcome": "passed"}, "call": {"duration": 0.02603850000014063, "outcome": "passed"}, "teardown": {"duration": 0.0011270000104559585, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_edit_session_post_success", "lineno": 516, "outcome": "passed", "keywords": ["test_edit_session_post_success", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.001841500008595176, "outcome": "passed"}, "call": {"duration": 0.0033066000032704324, "outcome": "passed"}, "teardown": {"duration": 0.0010066000104416162, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_check_email_availability", "lineno": 536, "outcome": "passed", "keywords": ["test_check_email_availability", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017342999926768243, "outcome": "passed"}, "call": {"duration": 0.002940099991974421, "outcome": "passed"}, "teardown": {"duration": 0.0010048999974969774, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_student_feedback_message_get", "lineno": 549, "outcome": "passed", "keywords": ["test_student_feedback_message_get", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0016958000051090494, "outcome": "passed"}, "call": {"duration": 0.06299880000005942, "outcome": "passed"}, "teardown": {"duration": 0.0010785000049509108, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_student_feedback_message_post", "lineno": 556, "outcome": "passed", "keywords": ["test_student_feedback_message_post", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017888000002130866, "outcome": "passed"}, "call": {"duration": 0.0028889000095659867, "outcome": "passed"}, "teardown": {"duration": 0.0009589999972376972, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_staff_feedback_message_get", "lineno": 568, "outcome": "passed", "keywords": ["test_staff_feedback_message_get", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0018787000008160248, "outcome": "passed"}, "call": {"duration": 0.0619388000050094, "outcome": "passed"}, "teardown": {"duration": 0.0011612999951466918, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_staff_feedback_message_post", "lineno": 575, "outcome": "passed", "keywords": ["test_staff_feedback_message_post", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017786999960662797, "outcome": "passed"}, "call": {"duration": 0.002378099990892224, "outcome": "passed"}, "teardown": {"duration": 0.0010164999985136092, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_view_staff_leave_get", "lineno": 587, "outcome": "passed", "keywords": ["test_view_staff_leave_get", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0018098000000463799, "outcome": "passed"}, "call": {"duration": 0.058139000000664964, "outcome": "passed"}, "teardown": {"duration": 0.0010975000041071326, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_view_staff_leave_post", "lineno": 594, "outcome": "passed", "keywords": ["test_view_staff_leave_post", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017227000062121078, "outcome": "passed"}, "call": {"duration": 0.0026070000021718442, "outcome": "passed"}, "teardown": {"duration": 0.0009590999979991466, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_view_student_leave_get", "lineno": 607, "outcome": "passed", "keywords": ["test_view_student_leave_get", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0016546999977435917, "outcome": "passed"}, "call": {"duration": 0.05924250000680331, "outcome": "passed"}, "teardown": {"duration": 0.0011194000107934698, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_view_student_leave_post", "lineno": 614, "outcome": "passed", "keywords": ["test_view_student_leave_post", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017503000126453117, "outcome": "passed"}, "call": {"duration": 0.005149699994944967, "outcome": "passed"}, "teardown": {"duration": 0.0013818000006722286, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_admin_view_attendance", "lineno": 627, "outcome": "passed", "keywords": ["test_admin_view_attendance", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0023045999987516552, "outcome": "passed"}, "call": {"duration": 0.06722129999252502, "outcome": "passed"}, "teardown": {"duration": 0.0011408999998820946, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_get_admin_attendance", "lineno": 635, "outcome": "passed", "keywords": ["test_get_admin_attendance", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017554999940330163, "outcome": "passed"}, "call": {"duration": 0.0030563000036636367, "outcome": "passed"}, "teardown": {"duration": 0.0010213000059593469, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_admin_view_profile_get", "lineno": 651, "outcome": "passed", "keywords": ["test_admin_view_profile_get", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.001728000002913177, "outcome": "passed"}, "call": {"duration": 0.05404039999120869, "outcome": "passed"}, "teardown": {"duration": 0.0011323000071570277, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_admin_view_profile_post", "lineno": 665, "outcome": "passed", "keywords": ["test_admin_view_profile_post", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.001938799992785789, "outcome": "passed"}, "call": {"duration": 0.003896299996995367, "outcome": "passed"}, "teardown": {"duration": 0.0010032999998657033, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_admin_notify_staff", "lineno": 688, "outcome": "passed", "keywords": ["test_admin_notify_staff", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017447999998694286, "outcome": "passed"}, "call": {"duration": 0.05761270000948571, "outcome": "passed"}, "teardown": {"duration": 0.0011074000067310408, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_admin_notify_student", "lineno": 695, "outcome": "passed", "keywords": ["test_admin_notify_student", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.001750199997331947, "outcome": "passed"}, "call": {"duration": 0.055820300010964274, "outcome": "passed"}, "teardown": {"duration": 0.001117300009354949, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_send_student_notification", "lineno": 702, "outcome": "xfailed", "keywords": ["test_send_student_notification", "xfail", "__wrapped__", "patchings", "pytestmark", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0020816000032937154, "outcome": "passed"}, "call": {"duration": 0.003768599999602884, "outcome": "skipped", "crash": {"path": "C:\\Users\\Muhammad Qasim\\Desktop\\student-management-using-django\\tests\\test_hod_views.py", "lineno": 714, "message": "AssertionError: assert b'False' == b'True'\n  \n  At index 0 diff: b'F' != b'T'\n  Use -v to get more diff"}, "traceback": [{"path": "tests\\test_hod_views.py", "lineno": 714, "message": "AssertionError"}], "longrepr": "MockNotif = <MagicMock name='NotificationStudent' id='2312259764640'>\nmock_post = <MagicMock name='post' id='2312259768336'>\nmock_get = <MagicMock name='get_object_or_404' id='2312259772128'>\nrequest_factory = <django.test.client.RequestFactory object at 0x0000021A5D6C01D0>\n\n    @pytest.mark.xfail(reason=\"AssertionError: assert b'False' == b'True'\")\n    @patch('main_app.hod_views.get_object_or_404')\n    @patch('main_app.hod_views.requests.post')\n    @patch('main_app.hod_views.NotificationStudent')\n    def test_send_student_notification(MockNotif, mock_post, mock_get, request_factory):\n        url = reverse('send_student_notification')\n        request = request_factory.post(url, {'id': 1, 'message': 'Hello'})\n    \n        mock_get.return_value = MagicMock()\n    \n        response = send_student_notification(request)\n>       assert response.content == b'True'\nE       AssertionError: assert b'False' == b'True'\nE         \nE         At index 0 diff: b'F' != b'T'\nE         Use -v to get more diff\n\ntests\\test_hod_views.py:714: AssertionError"}, "teardown": {"duration": 0.00130009998974856, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_send_staff_notification", "lineno": 717, "outcome": "xfailed", "keywords": ["test_send_staff_notification", "xfail", "__wrapped__", "patchings", "pytestmark", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0018270000000484288, "outcome": "passed"}, "call": {"duration": 0.004030099997180514, "outcome": "skipped", "crash": {"path": "C:\\Users\\Muhammad Qasim\\Desktop\\student-management-using-django\\tests\\test_hod_views.py", "lineno": 729, "message": "AssertionError: assert b'False' == b'True'\n  \n  At index 0 diff: b'F' != b'T'\n  Use -v to get more diff"}, "traceback": [{"path": "tests\\test_hod_views.py", "lineno": 729, "message": "AssertionError"}], "longrepr": "MockNotif = <MagicMock name='NotificationStaff' id='2312259795328'>\nmock_post = <MagicMock name='post' id='2312260470592'>\nmock_get = <MagicMock name='get_object_or_404' id='2312260474336'>\nrequest_factory = <django.test.client.RequestFactory object at 0x0000021A5D6C7920>\n\n    @pytest.mark.xfail(reason=\"AssertionError: assert b'False' == b'True'\")\n    @patch('main_app.hod_views.get_object_or_404')\n    @patch('main_app.hod_views.requests.post')\n    @patch('main_app.hod_views.NotificationStaff')\n    def test_send_staff_notification(MockNotif, mock_post, mock_get, request_factory):\n        url = reverse('send_staff_notification')\n        request = request_factory.post(url, {'id': 1, 'message': 'Hello'})\n    \n        mock_get.return_value = MagicMock()\n    \n        response = send_staff_notification(request)\n>       assert response.content == b'True'\nE       AssertionError: assert b'False' == b'True'\nE         \nE         At index 0 diff: b'F' != b'T'\nE         Use -v to get more diff\n\ntests\\test_hod_views.py:729: AssertionError"}, "teardown": {"duration": 0.0012060000008204952, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_delete_staff", "lineno": 732, "outcome": "passed", "keywords": ["test_delete_staff", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017817000043578446, "outcome": "passed"}, "call": {"duration": 0.002299900006619282, "outcome": "passed"}, "teardown": {"duration": 0.0010246000019833446, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_delete_student", "lineno": 747, "outcome": "passed", "keywords": ["test_delete_student", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.001673899998422712, "outcome": "passed"}, "call": {"duration": 0.06346529998700134, "outcome": "passed"}, "teardown": {"duration": 0.001126899995142594, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_delete_course", "lineno": 762, "outcome": "passed", "keywords": ["test_delete_course", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017545000009704381, "outcome": "passed"}, "call": {"duration": 0.0025181000091833994, "outcome": "passed"}, "teardown": {"duration": 0.0010211000044364482, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_delete_subject", "lineno": 777, "outcome": "passed", "keywords": ["test_delete_subject", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.001665500007220544, "outcome": "passed"}, "call": {"duration": 0.0022025000071153045, "outcome": "passed"}, "teardown": {"duration": 0.0009722999966470525, "outcome": "passed"}}, {"nodeid": "tests/test_hod_views.py::test_delete_session", "lineno": 792, "outcome": "passed", "keywords": ["test_delete_session", "__wrapped__", "patchings", "test_hod_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017324000073131174, "outcome": "passed"}, "call": {"duration": 0.0024733000027481467, "outcome": "passed"}, "teardown": {"duration": 0.000982900004601106, "outcome": "passed"}}, {"nodeid": "tests/test_staff_views.py::test_staff_home", "lineno": 11, "outcome": "xfailed", "keywords": ["test_staff_home", "xfail", "__wrapped__", "patchings", "pytestmark", "test_staff_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017541999986860901, "outcome": "passed"}, "call": {"duration": 0.007049499996355735, "outcome": "skipped", "crash": {"path": "C:\\Users\\Muhammad Qasim\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\__init__.py", "lineno": 2130, "message": "TypeError: Field 'id' expected a number but got []."}, "traceback": [{"path": "tests\\test_staff_views.py", "lineno": 30, "message": ""}, {"path": "main_app\\staff_views.py", "lineno": 18, "message": "in staff_home"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\manager.py", "lineno": 87, "message": "in manager_method"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py", "lineno": 1493, "message": "in filter"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py", "lineno": 1511, "message": "in _filter_or_exclude"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py", "lineno": 1518, "message": "in _filter_or_exclude_inplace"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py", "lineno": 1646, "message": "in add_q"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py", "lineno": 1678, "message": "in _add_q"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py", "lineno": 1588, "message": "in build_filter"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py", "lineno": 1415, "message": "in build_lookup"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\lookups.py", "lineno": 38, "message": "in __init__"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\related_lookups.py", "lineno": 112, "message": "in get_prep_lookup"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\__init__.py", "lineno": 2130, "message": "TypeError"}], "longrepr": "self = <django.db.models.fields.AutoField: id>, value = []\n\n    def get_prep_value(self, value):\n        value = super().get_prep_value(value)\n        if value is None:\n            return None\n        try:\n>           return int(value)\n                   ^^^^^^^^^^\nE           TypeError: int() argument must be a string, a bytes-like object or a real number, not 'list'\n\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\__init__.py:2128: TypeError\n\nThe above exception was the direct cause of the following exception:\n\nmock_attendance = <MagicMock name='filter' id='2312259781984'>\nmock_leave = <MagicMock name='filter' id='2312259193648'>\nmock_course = <MagicMock name='all' id='2312259197968'>\nmock_subject = <MagicMock name='all' id='2312259202672'>\nmock_student = <MagicMock name='filter' id='2312259203536'>\nmock_get_object = <MagicMock name='get_object_or_404' id='2312256947120'>\nrequest_factory = <django.test.client.RequestFactory object at 0x0000021A5D6C4D10>\n\n    @pytest.mark.xfail(reason=\"TypeError: Field 'id' expected a number but got []\")\n    @patch('main_app.staff_views.get_object_or_404')\n    @patch('main_app.staff_views.Student.objects.filter') # Changed from all to filter\n    @patch('main_app.staff_views.Subject.objects.all')\n    @patch('main_app.staff_views.Course.objects.all')\n    @patch('main_app.staff_views.LeaveReportStaff.objects.filter')\n    @patch('main_app.staff_views.Attendance.objects.filter')\n    def test_staff_home(mock_attendance, mock_leave, mock_course, mock_subject, mock_student, mock_get_object, request_factory):\n        url = reverse('staff_home')\n        request = request_factory.get(url)\n        request.user = MagicMock()\n        request.user.id = 1\n        request.user.pk = 1\n    \n        mock_staff = MagicMock()\n        mock_staff.pk = 1\n        mock_get_object.return_value = mock_staff\n    \n>       response = views.staff_home(request)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_staff_views.py:30: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nmain_app\\staff_views.py:18: in staff_home\n    subjects = Subject.objects.filter(staff=staff)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\manager.py:87: in manager_method\n    return getattr(self.get_queryset(), name)(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py:1493: in filter\n    return self._filter_or_exclude(False, args, kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py:1511: in _filter_or_exclude\n    clone._filter_or_exclude_inplace(negate, args, kwargs)\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py:1518: in _filter_or_exclude_inplace\n    self._query.add_q(Q(*args, **kwargs))\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py:1646: in add_q\n    clause, _ = self._add_q(q_object, can_reuse)\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py:1678: in _add_q\n    child_clause, needed_inner = self.build_filter(\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py:1588: in build_filter\n    condition = self.build_lookup(lookups, col, value)\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py:1415: in build_lookup\n    lookup = lookup_class(lhs, rhs)\n             ^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\lookups.py:38: in __init__\n    self.rhs = self.get_prep_lookup()\n               ^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\related_lookups.py:112: in get_prep_lookup\n    self.rhs = target_field.get_prep_value(self.rhs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <django.db.models.fields.AutoField: id>, value = []\n\n    def get_prep_value(self, value):\n        value = super().get_prep_value(value)\n        if value is None:\n            return None\n        try:\n            return int(value)\n        except (TypeError, ValueError) as e:\n>           raise e.__class__(\n                \"Field '%s' expected a number but got %r.\" % (self.name, value),\n            ) from e\nE           TypeError: Field 'id' expected a number but got [].\n\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\__init__.py:2130: TypeError"}, "teardown": {"duration": 0.0012674000026891008, "outcome": "passed"}}, {"nodeid": "tests/test_staff_views.py::test_staff_take_attendance", "lineno": 32, "outcome": "passed", "keywords": ["test_staff_take_attendance", "__wrapped__", "patchings", "test_staff_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017595999961486086, "outcome": "passed"}, "call": {"duration": 0.013955500005977228, "outcome": "passed"}, "teardown": {"duration": 0.0010225000005448237, "outcome": "passed"}}, {"nodeid": "tests/test_staff_views.py::test_get_students", "lineno": 52, "outcome": "passed", "keywords": ["test_get_students", "__wrapped__", "patchings", "test_staff_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017512000049464405, "outcome": "passed"}, "call": {"duration": 0.003679700006614439, "outcome": "passed"}, "teardown": {"duration": 0.0010074000019812956, "outcome": "passed"}}, {"nodeid": "tests/test_staff_views.py::test_save_attendance", "lineno": 82, "outcome": "passed", "keywords": ["test_save_attendance", "__wrapped__", "patchings", "test_staff_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0016853000124683604, "outcome": "passed"}, "call": {"duration": 0.005205000008572824, "outcome": "passed"}, "teardown": {"duration": 0.0009854999952949584, "outcome": "passed"}}, {"nodeid": "tests/test_staff_views.py::test_staff_update_attendance", "lineno": 105, "outcome": "passed", "keywords": ["test_staff_update_attendance", "__wrapped__", "patchings", "test_staff_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0016512000001966953, "outcome": "passed"}, "call": {"duration": 0.014228300002287142, "outcome": "passed"}, "teardown": {"duration": 0.0010397000005468726, "outcome": "passed"}}, {"nodeid": "tests/test_staff_views.py::test_get_student_attendance", "lineno": 122, "outcome": "xfailed", "keywords": ["test_get_student_attendance", "xfail", "__wrapped__", "patchings", "pytestmark", "test_staff_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.001941199996508658, "outcome": "passed"}, "call": {"duration": 0.005477700004121289, "outcome": "skipped", "crash": {"path": "C:\\Users\\Muhammad Qasim\\Desktop\\student-management-using-django\\tests\\test_staff_views.py", "lineno": 137, "message": "AttributeError: 'TypeError' object has no attribute 'status_code'"}, "traceback": [{"path": "tests\\test_staff_views.py", "lineno": 137, "message": "AttributeError"}], "longrepr": "mock_filter = <MagicMock name='filter' id='2312259766128'>\nmock_get_object = <MagicMock name='get_object_or_404' id='2312259769440'>\nrequest_factory = <django.test.client.RequestFactory object at 0x0000021A5D6C0710>\n\n    @pytest.mark.xfail(reason=\"AttributeError: 'TypeError' object has no attribute 'status_code'\")\n    @patch('main_app.staff_views.get_object_or_404') # Added patch (assuming it's used)\n    @patch('main_app.staff_views.Attendance.objects.filter')\n    def test_get_student_attendance(mock_filter, mock_get_object, request_factory):\n        url = reverse('get_student_attendance')\n        request = request_factory.post(url, {'subject': 1, 'session': 1})\n    \n        mock_attendance = MagicMock()\n        mock_attendance.id = 1\n        mock_attendance.pk = 1\n        mock_attendance.date = '2023-01-01'\n        mock_filter.return_value = [mock_attendance]\n    \n        response = views.get_student_attendance(request)\n>       assert response.status_code == 200\n               ^^^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'TypeError' object has no attribute 'status_code'\n\ntests\\test_staff_views.py:137: AttributeError"}, "teardown": {"duration": 0.0012524999910965562, "outcome": "passed"}}, {"nodeid": "tests/test_staff_views.py::test_update_attendance", "lineno": 139, "outcome": "passed", "keywords": ["test_update_attendance", "__wrapped__", "patchings", "test_staff_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017521999980090186, "outcome": "passed"}, "call": {"duration": 0.0044357000006129965, "outcome": "passed"}, "teardown": {"duration": 0.0017414999892935157, "outcome": "passed"}}, {"nodeid": "tests/test_staff_views.py::test_staff_apply_leave_get", "lineno": 163, "outcome": "passed", "keywords": ["test_staff_apply_leave_get", "__wrapped__", "patchings", "test_staff_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017009000002872199, "outcome": "passed"}, "call": {"duration": 0.017040999999153428, "outcome": "passed"}, "teardown": {"duration": 0.0010909999982686713, "outcome": "passed"}}, {"nodeid": "tests/test_staff_views.py::test_staff_apply_leave_post", "lineno": 179, "outcome": "xfailed", "keywords": ["test_staff_apply_leave_post", "xfail", "__wrapped__", "patchings", "pytestmark", "test_staff_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.002032299991697073, "outcome": "passed"}, "call": {"duration": 0.008515599998645484, "outcome": "skipped", "crash": {"path": "C:\\Users\\Muhammad Qasim\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\__init__.py", "lineno": 2130, "message": "TypeError: Field 'id' expected a number but got []."}, "traceback": [{"path": "tests\\test_staff_views.py", "lineno": 201, "message": ""}, {"path": "main_app\\staff_views.py", "lineno": 161, "message": "in staff_apply_leave"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\manager.py", "lineno": 87, "message": "in manager_method"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py", "lineno": 1493, "message": "in filter"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py", "lineno": 1511, "message": "in _filter_or_exclude"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py", "lineno": 1518, "message": "in _filter_or_exclude_inplace"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py", "lineno": 1646, "message": "in add_q"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py", "lineno": 1678, "message": "in _add_q"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py", "lineno": 1588, "message": "in build_filter"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py", "lineno": 1415, "message": "in build_lookup"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\lookups.py", "lineno": 38, "message": "in __init__"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\related_lookups.py", "lineno": 112, "message": "in get_prep_lookup"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\__init__.py", "lineno": 2130, "message": "TypeError"}], "longrepr": "self = <django.db.models.fields.AutoField: id>, value = []\n\n    def get_prep_value(self, value):\n        value = super().get_prep_value(value)\n        if value is None:\n            return None\n        try:\n>           return int(value)\n                   ^^^^^^^^^^\nE           TypeError: int() argument must be a string, a bytes-like object or a real number, not 'list'\n\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\__init__.py:2128: TypeError\n\nThe above exception was the direct cause of the following exception:\n\nmock_get_object = <MagicMock name='get_object_or_404' id='2312259795232'>\nrequest_factory = <django.test.client.RequestFactory object at 0x0000021A5D6C7890>\n\n    @pytest.mark.xfail(reason=\"Patching issues with Forms/Models causing TypeError\")\n    @patch('main_app.staff_views.get_object_or_404')\n    def test_staff_apply_leave_post(mock_get_object, request_factory):\n        url = reverse('staff_apply_leave')\n        request = request_factory.post(url, {'leave_date': '2023-01-01', 'leave_message': 'Sick'})\n        request.user = MagicMock()\n        request.user.id = 1\n        request.user.pk = 1\n        setattr(request, 'session', 'session')\n        messages = FallbackStorage(request)\n        setattr(request, '_messages', messages)\n    \n        mock_staff = MagicMock()\n        mock_staff.pk = 1\n        mock_get_object.return_value = mock_staff\n    \n        with patch.object(views, 'LeaveReportStaffForm') as MockForm:\n            mock_form_instance = MockForm.return_value\n            mock_form_instance.is_valid.return_value = True\n            mock_form_instance.save.return_value = MagicMock()\n    \n>           response = views.staff_apply_leave(request)\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_staff_views.py:201: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nmain_app\\staff_views.py:161: in staff_apply_leave\n    'leave_history': LeaveReportStaff.objects.filter(staff=staff),\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\manager.py:87: in manager_method\n    return getattr(self.get_queryset(), name)(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py:1493: in filter\n    return self._filter_or_exclude(False, args, kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py:1511: in _filter_or_exclude\n    clone._filter_or_exclude_inplace(negate, args, kwargs)\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py:1518: in _filter_or_exclude_inplace\n    self._query.add_q(Q(*args, **kwargs))\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py:1646: in add_q\n    clause, _ = self._add_q(q_object, can_reuse)\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py:1678: in _add_q\n    child_clause, needed_inner = self.build_filter(\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py:1588: in build_filter\n    condition = self.build_lookup(lookups, col, value)\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py:1415: in build_lookup\n    lookup = lookup_class(lhs, rhs)\n             ^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\lookups.py:38: in __init__\n    self.rhs = self.get_prep_lookup()\n               ^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\related_lookups.py:112: in get_prep_lookup\n    self.rhs = target_field.get_prep_value(self.rhs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <django.db.models.fields.AutoField: id>, value = []\n\n    def get_prep_value(self, value):\n        value = super().get_prep_value(value)\n        if value is None:\n            return None\n        try:\n            return int(value)\n        except (TypeError, ValueError) as e:\n>           raise e.__class__(\n                \"Field '%s' expected a number but got %r.\" % (self.name, value),\n            ) from e\nE           TypeError: Field 'id' expected a number but got [].\n\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\__init__.py:2130: TypeError"}, "teardown": {"duration": 0.0022997000050963834, "outcome": "passed"}}, {"nodeid": "tests/test_staff_views.py::test_staff_feedback_get", "lineno": 204, "outcome": "passed", "keywords": ["test_staff_feedback_get", "__wrapped__", "patchings", "test_staff_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0034927000087918714, "outcome": "passed"}, "call": {"duration": 0.06214180000824854, "outcome": "passed"}, "teardown": {"duration": 0.0019678999960888177, "outcome": "passed"}}, {"nodeid": "tests/test_staff_views.py::test_staff_feedback_post", "lineno": 220, "outcome": "xfailed", "keywords": ["test_staff_feedback_post", "xfail", "__wrapped__", "patchings", "pytestmark", "test_staff_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0034431999956723303, "outcome": "passed"}, "call": {"duration": 0.012160599988419563, "outcome": "skipped", "crash": {"path": "C:\\Users\\Muhammad Qasim\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\__init__.py", "lineno": 2130, "message": "TypeError: Field 'id' expected a number but got []."}, "traceback": [{"path": "tests\\test_staff_views.py", "lineno": 242, "message": ""}, {"path": "main_app\\staff_views.py", "lineno": 185, "message": "in staff_feedback"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\manager.py", "lineno": 87, "message": "in manager_method"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py", "lineno": 1493, "message": "in filter"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py", "lineno": 1511, "message": "in _filter_or_exclude"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py", "lineno": 1518, "message": "in _filter_or_exclude_inplace"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py", "lineno": 1646, "message": "in add_q"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py", "lineno": 1678, "message": "in _add_q"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py", "lineno": 1588, "message": "in build_filter"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py", "lineno": 1415, "message": "in build_lookup"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\lookups.py", "lineno": 38, "message": "in __init__"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\related_lookups.py", "lineno": 112, "message": "in get_prep_lookup"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\__init__.py", "lineno": 2130, "message": "TypeError"}], "longrepr": "self = <django.db.models.fields.AutoField: id>, value = []\n\n    def get_prep_value(self, value):\n        value = super().get_prep_value(value)\n        if value is None:\n            return None\n        try:\n>           return int(value)\n                   ^^^^^^^^^^\nE           TypeError: int() argument must be a string, a bytes-like object or a real number, not 'list'\n\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\__init__.py:2128: TypeError\n\nThe above exception was the direct cause of the following exception:\n\nmock_get_object = <MagicMock name='get_object_or_404' id='2312260475296'>\nrequest_factory = <django.test.client.RequestFactory object at 0x0000021A5D2B8560>\n\n    @pytest.mark.xfail(reason=\"Patching issues with Forms/Models causing TypeError\")\n    @patch('main_app.staff_views.get_object_or_404')\n    def test_staff_feedback_post(mock_get_object, request_factory):\n        url = reverse('staff_feedback')\n        request = request_factory.post(url, {'feedback': 'Good'})\n        request.user = MagicMock()\n        request.user.id = 1\n        request.user.pk = 1\n        setattr(request, 'session', 'session')\n        messages = FallbackStorage(request)\n        setattr(request, '_messages', messages)\n    \n        mock_staff = MagicMock()\n        mock_staff.pk = 1\n        mock_get_object.return_value = mock_staff\n    \n        with patch.object(views, 'FeedbackStaffForm') as MockForm:\n            mock_form_instance = MockForm.return_value\n            mock_form_instance.is_valid.return_value = True\n            mock_form_instance.save.return_value = MagicMock()\n    \n>           response = views.staff_feedback(request)\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_staff_views.py:242: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nmain_app\\staff_views.py:185: in staff_feedback\n    'feedbacks': FeedbackStaff.objects.filter(staff=staff),\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\manager.py:87: in manager_method\n    return getattr(self.get_queryset(), name)(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py:1493: in filter\n    return self._filter_or_exclude(False, args, kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py:1511: in _filter_or_exclude\n    clone._filter_or_exclude_inplace(negate, args, kwargs)\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py:1518: in _filter_or_exclude_inplace\n    self._query.add_q(Q(*args, **kwargs))\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py:1646: in add_q\n    clause, _ = self._add_q(q_object, can_reuse)\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py:1678: in _add_q\n    child_clause, needed_inner = self.build_filter(\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py:1588: in build_filter\n    condition = self.build_lookup(lookups, col, value)\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py:1415: in build_lookup\n    lookup = lookup_class(lhs, rhs)\n             ^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\lookups.py:38: in __init__\n    self.rhs = self.get_prep_lookup()\n               ^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\related_lookups.py:112: in get_prep_lookup\n    self.rhs = target_field.get_prep_value(self.rhs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <django.db.models.fields.AutoField: id>, value = []\n\n    def get_prep_value(self, value):\n        value = super().get_prep_value(value)\n        if value is None:\n            return None\n        try:\n            return int(value)\n        except (TypeError, ValueError) as e:\n>           raise e.__class__(\n                \"Field '%s' expected a number but got %r.\" % (self.name, value),\n            ) from e\nE           TypeError: Field 'id' expected a number but got [].\n\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\__init__.py:2130: TypeError"}, "teardown": {"duration": 0.0012639999913517386, "outcome": "passed"}}, {"nodeid": "tests/test_staff_views.py::test_staff_view_profile_post_patched", "lineno": 245, "outcome": "xpassed", "keywords": ["test_staff_view_profile_post_patched", "xfail", "__wrapped__", "patchings", "pytestmark", "test_staff_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0026182000001426786, "outcome": "passed"}, "call": {"duration": 0.0057668999943416566, "outcome": "passed"}, "teardown": {"duration": 0.0016731999930925667, "outcome": "passed"}}, {"nodeid": "tests/test_staff_views.py::test_staff_fcmtoken", "lineno": 273, "outcome": "xfailed", "keywords": ["test_staff_fcmtoken", "xfail", "__wrapped__", "patchings", "pytestmark", "test_staff_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0034164999960921705, "outcome": "passed"}, "call": {"duration": 0.007702000002609566, "outcome": "skipped", "crash": {"path": "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\unittest\\mock.py", "lineno": 918, "message": "AssertionError: Expected 'save' to have been called."}, "traceback": [{"path": "tests\\test_staff_views.py", "lineno": 291, "message": ""}, {"path": "C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\unittest\\mock.py", "lineno": 918, "message": "AssertionError"}], "longrepr": "mock_get_object = <MagicMock name='get_object_or_404' id='2312255552880'>\nrequest_factory = <django.test.client.RequestFactory object at 0x0000021A5D76EBD0>\n\n    @pytest.mark.xfail(reason=\"AssertionError: Expected 'save' to have been called\")\n    @patch('main_app.staff_views.get_object_or_404')\n    def test_staff_fcmtoken(mock_get_object, request_factory):\n        url = reverse('staff_fcmtoken')\n        request = request_factory.post(url, {'token': '123'})\n        request.user = MagicMock()\n        request.user.id = 1\n        request.user.pk = 1\n    \n        mock_staff = MagicMock()\n        mock_staff.pk = 1\n        mock_staff.admin = MagicMock()\n        mock_staff.admin.pk = 1\n        mock_get_object.return_value = mock_staff\n    \n        response = views.staff_fcmtoken(request)\n        assert response.content == b'True'\n>       mock_staff.admin.save.assert_called()\n\ntests\\test_staff_views.py:291: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <MagicMock name='get_object_or_404().admin.save' id='2312258690640'>\n\n    def assert_called(self):\n        \"\"\"assert that the mock was called at least once\n        \"\"\"\n        if self.call_count == 0:\n            msg = (\"Expected '%s' to have been called.\" %\n                   (self._mock_name or 'mock'))\n>           raise AssertionError(msg)\nE           AssertionError: Expected 'save' to have been called.\n\nC:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.12_3.12.2800.0_x64__qbz5n2kfra8p0\\Lib\\unittest\\mock.py:918: AssertionError"}, "teardown": {"duration": 0.001407799994922243, "outcome": "passed"}}, {"nodeid": "tests/test_staff_views.py::test_staff_view_notification", "lineno": 292, "outcome": "passed", "keywords": ["test_staff_view_notification", "__wrapped__", "patchings", "test_staff_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0018564999918453395, "outcome": "passed"}, "call": {"duration": 0.0533484000043245, "outcome": "passed"}, "teardown": {"duration": 0.0033530000073369592, "outcome": "passed"}}, {"nodeid": "tests/test_staff_views.py::test_staff_add_result_get", "lineno": 308, "outcome": "passed", "keywords": ["test_staff_add_result_get", "__wrapped__", "patchings", "test_staff_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.003622199990786612, "outcome": "passed"}, "call": {"duration": 0.03325490000133868, "outcome": "passed"}, "teardown": {"duration": 0.002172299995436333, "outcome": "passed"}}, {"nodeid": "tests/test_staff_views.py::test_staff_add_result_post", "lineno": 325, "outcome": "xfailed", "keywords": ["test_staff_add_result_post", "xfail", "__wrapped__", "patchings", "pytestmark", "test_staff_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.003687600008561276, "outcome": "passed"}, "call": {"duration": 0.010438099998282269, "outcome": "skipped", "crash": {"path": "C:\\Users\\Muhammad Qasim\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\__init__.py", "lineno": 2130, "message": "TypeError: Field 'id' expected a number but got []."}, "traceback": [{"path": "tests\\test_staff_views.py", "lineno": 356, "message": ""}, {"path": "main_app\\staff_views.py", "lineno": 267, "message": "in staff_add_result"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\manager.py", "lineno": 87, "message": "in manager_method"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py", "lineno": 1493, "message": "in filter"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py", "lineno": 1511, "message": "in _filter_or_exclude"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py", "lineno": 1518, "message": "in _filter_or_exclude_inplace"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py", "lineno": 1646, "message": "in add_q"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py", "lineno": 1678, "message": "in _add_q"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py", "lineno": 1588, "message": "in build_filter"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py", "lineno": 1415, "message": "in build_lookup"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\lookups.py", "lineno": 38, "message": "in __init__"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\related_lookups.py", "lineno": 112, "message": "in get_prep_lookup"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\__init__.py", "lineno": 2130, "message": "TypeError"}], "longrepr": "self = <django.db.models.fields.AutoField: id>, value = []\n\n    def get_prep_value(self, value):\n        value = super().get_prep_value(value)\n        if value is None:\n            return None\n        try:\n>           return int(value)\n                   ^^^^^^^^^^\nE           TypeError: int() argument must be a string, a bytes-like object or a real number, not 'list'\n\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\__init__.py:2128: TypeError\n\nThe above exception was the direct cause of the following exception:\n\nmock_subject = <MagicMock name='get' id='2312258782944'>\nmock_student = <MagicMock name='get' id='2312258796912'>\nrequest_factory = <django.test.client.RequestFactory object at 0x0000021A5D5D0860>\n\n    @pytest.mark.xfail(reason=\"Patching issues with Models causing TypeError\")\n    @patch('main_app.staff_views.Student.objects.get')\n    @patch('main_app.staff_views.Subject.objects.get')\n    def test_staff_add_result_post(mock_subject, mock_student, request_factory):\n        url = reverse('staff_add_result')\n        data = {\n            'subject': 1,\n            'student_list[]': [1],\n            'exam_marks_1': 90,\n            'assignment_marks_1': 10\n        }\n        request = request_factory.post(url, data)\n        request.user = MagicMock()\n        request.user.id = 1\n        request.user.pk = 1\n    \n        with patch('main_app.staff_views.get_object_or_404') as mock_get_object:\n            mock_staff = MagicMock()\n            mock_staff.pk = 1\n            mock_get_object.return_value = mock_staff\n    \n            mock_student_instance = MagicMock()\n            mock_student_instance.pk = 1\n            mock_student.return_value = mock_student_instance\n    \n            mock_subject_instance = MagicMock()\n            mock_subject_instance.pk = 1\n            mock_subject.return_value = mock_subject_instance\n    \n            with patch.object(views, 'StudentResult') as MockResult:\n>               response = views.staff_add_result(request)\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_staff_views.py:356: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nmain_app\\staff_views.py:267: in staff_add_result\n    subjects = Subject.objects.filter(staff=staff)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\manager.py:87: in manager_method\n    return getattr(self.get_queryset(), name)(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py:1493: in filter\n    return self._filter_or_exclude(False, args, kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py:1511: in _filter_or_exclude\n    clone._filter_or_exclude_inplace(negate, args, kwargs)\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py:1518: in _filter_or_exclude_inplace\n    self._query.add_q(Q(*args, **kwargs))\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py:1646: in add_q\n    clause, _ = self._add_q(q_object, can_reuse)\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py:1678: in _add_q\n    child_clause, needed_inner = self.build_filter(\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py:1588: in build_filter\n    condition = self.build_lookup(lookups, col, value)\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py:1415: in build_lookup\n    lookup = lookup_class(lhs, rhs)\n             ^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\lookups.py:38: in __init__\n    self.rhs = self.get_prep_lookup()\n               ^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\related_lookups.py:112: in get_prep_lookup\n    self.rhs = target_field.get_prep_value(self.rhs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <django.db.models.fields.AutoField: id>, value = []\n\n    def get_prep_value(self, value):\n        value = super().get_prep_value(value)\n        if value is None:\n            return None\n        try:\n            return int(value)\n        except (TypeError, ValueError) as e:\n>           raise e.__class__(\n                \"Field '%s' expected a number but got %r.\" % (self.name, value),\n            ) from e\nE           TypeError: Field 'id' expected a number but got [].\n\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\__init__.py:2130: TypeError"}, "teardown": {"duration": 0.002221799994003959, "outcome": "passed"}}, {"nodeid": "tests/test_staff_views.py::test_fetch_student_result", "lineno": 359, "outcome": "passed", "keywords": ["test_fetch_student_result", "__wrapped__", "patchings", "test_staff_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.004182299991953187, "outcome": "passed"}, "call": {"duration": 0.0068832999968435615, "outcome": "passed"}, "teardown": {"duration": 0.0019960999925388023, "outcome": "passed"}}, {"nodeid": "tests/test_student_views.py::test_student_home", "lineno": 9, "outcome": "passed", "keywords": ["test_student_home", "__wrapped__", "patchings", "test_student_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.004103800005395897, "outcome": "passed"}, "call": {"duration": 0.055441799995605834, "outcome": "passed"}, "teardown": {"duration": 0.0011652999965008348, "outcome": "passed"}}, {"nodeid": "tests/test_student_views.py::test_student_view_attendance_get", "lineno": 35, "outcome": "passed", "keywords": ["test_student_view_attendance_get", "__wrapped__", "patchings", "test_student_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.001788599998690188, "outcome": "passed"}, "call": {"duration": 0.012086100003216416, "outcome": "passed"}, "teardown": {"duration": 0.0010958999919239432, "outcome": "passed"}}, {"nodeid": "tests/test_student_views.py::test_student_view_attendance_post", "lineno": 51, "outcome": "passed", "keywords": ["test_student_view_attendance_post", "__wrapped__", "patchings", "test_student_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0018281999946339056, "outcome": "passed"}, "call": {"duration": 0.017367799999192357, "outcome": "passed"}, "teardown": {"duration": 0.0028005999920424074, "outcome": "passed"}}, {"nodeid": "tests/test_student_views.py::test_student_apply_leave_get", "lineno": 80, "outcome": "passed", "keywords": ["test_student_apply_leave_get", "__wrapped__", "patchings", "test_student_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0020027999999001622, "outcome": "passed"}, "call": {"duration": 0.014607200006139465, "outcome": "passed"}, "teardown": {"duration": 0.0011199000000488013, "outcome": "passed"}}, {"nodeid": "tests/test_student_views.py::test_student_apply_leave_post", "lineno": 96, "outcome": "xfailed", "keywords": ["test_student_apply_leave_post", "xfail", "__wrapped__", "patchings", "pytestmark", "test_student_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0032155999942915514, "outcome": "passed"}, "call": {"duration": 0.011762099995394237, "outcome": "skipped", "crash": {"path": "C:\\Users\\Muhammad Qasim\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\__init__.py", "lineno": 2130, "message": "TypeError: Field 'id' expected a number but got []."}, "traceback": [{"path": "tests\\test_student_views.py", "lineno": 118, "message": ""}, {"path": "main_app\\student_views.py", "lineno": 94, "message": "in student_apply_leave"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\manager.py", "lineno": 87, "message": "in manager_method"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py", "lineno": 1493, "message": "in filter"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py", "lineno": 1511, "message": "in _filter_or_exclude"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py", "lineno": 1518, "message": "in _filter_or_exclude_inplace"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py", "lineno": 1646, "message": "in add_q"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py", "lineno": 1678, "message": "in _add_q"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py", "lineno": 1588, "message": "in build_filter"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py", "lineno": 1415, "message": "in build_lookup"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\lookups.py", "lineno": 38, "message": "in __init__"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\related_lookups.py", "lineno": 112, "message": "in get_prep_lookup"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\__init__.py", "lineno": 2130, "message": "TypeError"}], "longrepr": "self = <django.db.models.fields.AutoField: id>, value = []\n\n    def get_prep_value(self, value):\n        value = super().get_prep_value(value)\n        if value is None:\n            return None\n        try:\n>           return int(value)\n                   ^^^^^^^^^^\nE           TypeError: int() argument must be a string, a bytes-like object or a real number, not 'list'\n\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\__init__.py:2128: TypeError\n\nThe above exception was the direct cause of the following exception:\n\nmock_get_object = <MagicMock name='get_object_or_404' id='2312259149008'>\nrequest_factory = <django.test.client.RequestFactory object at 0x0000021A5D422300>\n\n    @pytest.mark.xfail(reason=\"Patching issues with Forms/Models causing TypeError\")\n    @patch('main_app.student_views.get_object_or_404')\n    def test_student_apply_leave_post(mock_get_object, request_factory):\n        url = reverse('student_apply_leave')\n        request = request_factory.post(url, {'leave_date': '2023-01-01', 'leave_message': 'Sick'})\n        request.user = MagicMock()\n        request.user.id = 1\n        request.user.pk = 1\n        setattr(request, 'session', 'session')\n        messages = FallbackStorage(request)\n        setattr(request, '_messages', messages)\n    \n        mock_student = MagicMock()\n        mock_student.pk = 1\n        mock_get_object.return_value = mock_student\n    \n        with patch.object(views, 'LeaveReportStudentForm') as MockForm:\n            mock_form_instance = MockForm.return_value\n            mock_form_instance.is_valid.return_value = True\n            mock_form_instance.save.return_value = MagicMock()\n    \n>           response = views.student_apply_leave(request)\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_student_views.py:118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nmain_app\\student_views.py:94: in student_apply_leave\n    'leave_history': LeaveReportStudent.objects.filter(student=student),\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\manager.py:87: in manager_method\n    return getattr(self.get_queryset(), name)(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py:1493: in filter\n    return self._filter_or_exclude(False, args, kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py:1511: in _filter_or_exclude\n    clone._filter_or_exclude_inplace(negate, args, kwargs)\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py:1518: in _filter_or_exclude_inplace\n    self._query.add_q(Q(*args, **kwargs))\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py:1646: in add_q\n    clause, _ = self._add_q(q_object, can_reuse)\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py:1678: in _add_q\n    child_clause, needed_inner = self.build_filter(\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py:1588: in build_filter\n    condition = self.build_lookup(lookups, col, value)\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py:1415: in build_lookup\n    lookup = lookup_class(lhs, rhs)\n             ^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\lookups.py:38: in __init__\n    self.rhs = self.get_prep_lookup()\n               ^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\related_lookups.py:112: in get_prep_lookup\n    self.rhs = target_field.get_prep_value(self.rhs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <django.db.models.fields.AutoField: id>, value = []\n\n    def get_prep_value(self, value):\n        value = super().get_prep_value(value)\n        if value is None:\n            return None\n        try:\n            return int(value)\n        except (TypeError, ValueError) as e:\n>           raise e.__class__(\n                \"Field '%s' expected a number but got %r.\" % (self.name, value),\n            ) from e\nE           TypeError: Field 'id' expected a number but got [].\n\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\__init__.py:2130: TypeError"}, "teardown": {"duration": 0.0023948999878484756, "outcome": "passed"}}, {"nodeid": "tests/test_student_views.py::test_student_feedback_get", "lineno": 121, "outcome": "passed", "keywords": ["test_student_feedback_get", "__wrapped__", "patchings", "test_student_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0035486999986460432, "outcome": "passed"}, "call": {"duration": 0.052173900010529906, "outcome": "passed"}, "teardown": {"duration": 0.001106299998355098, "outcome": "passed"}}, {"nodeid": "tests/test_student_views.py::test_student_feedback_post", "lineno": 137, "outcome": "xfailed", "keywords": ["test_student_feedback_post", "xfail", "__wrapped__", "patchings", "pytestmark", "test_student_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.001825200000894256, "outcome": "passed"}, "call": {"duration": 0.006036499995389022, "outcome": "skipped", "crash": {"path": "C:\\Users\\Muhammad Qasim\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\__init__.py", "lineno": 2130, "message": "TypeError: Field 'id' expected a number but got []."}, "traceback": [{"path": "tests\\test_student_views.py", "lineno": 159, "message": ""}, {"path": "main_app\\student_views.py", "lineno": 118, "message": "in student_feedback"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\manager.py", "lineno": 87, "message": "in manager_method"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py", "lineno": 1493, "message": "in filter"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py", "lineno": 1511, "message": "in _filter_or_exclude"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py", "lineno": 1518, "message": "in _filter_or_exclude_inplace"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py", "lineno": 1646, "message": "in add_q"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py", "lineno": 1678, "message": "in _add_q"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py", "lineno": 1588, "message": "in build_filter"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py", "lineno": 1415, "message": "in build_lookup"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\lookups.py", "lineno": 38, "message": "in __init__"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\related_lookups.py", "lineno": 112, "message": "in get_prep_lookup"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\__init__.py", "lineno": 2130, "message": "TypeError"}], "longrepr": "self = <django.db.models.fields.AutoField: id>, value = []\n\n    def get_prep_value(self, value):\n        value = super().get_prep_value(value)\n        if value is None:\n            return None\n        try:\n>           return int(value)\n                   ^^^^^^^^^^\nE           TypeError: int() argument must be a string, a bytes-like object or a real number, not 'list'\n\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\__init__.py:2128: TypeError\n\nThe above exception was the direct cause of the following exception:\n\nmock_get_object = <MagicMock name='get_object_or_404' id='2312261501536'>\nrequest_factory = <django.test.client.RequestFactory object at 0x0000021A5D868230>\n\n    @pytest.mark.xfail(reason=\"Patching issues with Forms/Models causing TypeError\")\n    @patch('main_app.student_views.get_object_or_404')\n    def test_student_feedback_post(mock_get_object, request_factory):\n        url = reverse('student_feedback')\n        request = request_factory.post(url, {'feedback': 'Good'})\n        request.user = MagicMock()\n        request.user.id = 1\n        request.user.pk = 1\n        setattr(request, 'session', 'session')\n        messages = FallbackStorage(request)\n        setattr(request, '_messages', messages)\n    \n        mock_student = MagicMock()\n        mock_student.pk = 1\n        mock_get_object.return_value = mock_student\n    \n        with patch.object(views, 'FeedbackStudentForm') as MockForm:\n            mock_form_instance = MockForm.return_value\n            mock_form_instance.is_valid.return_value = True\n            mock_form_instance.save.return_value = MagicMock()\n    \n>           response = views.student_feedback(request)\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests\\test_student_views.py:159: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nmain_app\\student_views.py:118: in student_feedback\n    'feedbacks': FeedbackStudent.objects.filter(student=student),\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\manager.py:87: in manager_method\n    return getattr(self.get_queryset(), name)(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py:1493: in filter\n    return self._filter_or_exclude(False, args, kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py:1511: in _filter_or_exclude\n    clone._filter_or_exclude_inplace(negate, args, kwargs)\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\query.py:1518: in _filter_or_exclude_inplace\n    self._query.add_q(Q(*args, **kwargs))\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py:1646: in add_q\n    clause, _ = self._add_q(q_object, can_reuse)\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py:1678: in _add_q\n    child_clause, needed_inner = self.build_filter(\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py:1588: in build_filter\n    condition = self.build_lookup(lookups, col, value)\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\sql\\query.py:1415: in build_lookup\n    lookup = lookup_class(lhs, rhs)\n             ^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\lookups.py:38: in __init__\n    self.rhs = self.get_prep_lookup()\n               ^^^^^^^^^^^^^^^^^^^^^^\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\related_lookups.py:112: in get_prep_lookup\n    self.rhs = target_field.get_prep_value(self.rhs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <django.db.models.fields.AutoField: id>, value = []\n\n    def get_prep_value(self, value):\n        value = super().get_prep_value(value)\n        if value is None:\n            return None\n        try:\n            return int(value)\n        except (TypeError, ValueError) as e:\n>           raise e.__class__(\n                \"Field '%s' expected a number but got %r.\" % (self.name, value),\n            ) from e\nE           TypeError: Field 'id' expected a number but got [].\n\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\db\\models\\fields\\__init__.py:2130: TypeError"}, "teardown": {"duration": 0.0012992999982088804, "outcome": "passed"}}, {"nodeid": "tests/test_student_views.py::test_student_view_profile_post", "lineno": 162, "outcome": "xpassed", "keywords": ["test_student_view_profile_post", "xfail", "__wrapped__", "patchings", "pytestmark", "test_student_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0018418999970890582, "outcome": "passed"}, "call": {"duration": 0.006137900010799058, "outcome": "passed"}, "teardown": {"duration": 0.0010380999883636832, "outcome": "passed"}}, {"nodeid": "tests/test_student_views.py::test_student_fcmtoken", "lineno": 190, "outcome": "passed", "keywords": ["test_student_fcmtoken", "__wrapped__", "patchings", "test_student_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017653999966569245, "outcome": "passed"}, "call": {"duration": 0.002433499990729615, "outcome": "passed"}, "teardown": {"duration": 0.001028099999530241, "outcome": "passed"}}, {"nodeid": "tests/test_student_views.py::test_student_view_notification", "lineno": 206, "outcome": "passed", "keywords": ["test_student_view_notification", "__wrapped__", "patchings", "test_student_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.002068900008453056, "outcome": "passed"}, "call": {"duration": 0.011276699995505624, "outcome": "passed"}, "teardown": {"duration": 0.0010846999939531088, "outcome": "passed"}}, {"nodeid": "tests/test_student_views.py::test_student_view_result", "lineno": 222, "outcome": "passed", "keywords": ["test_student_view_result", "__wrapped__", "patchings", "test_student_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017756000015651807, "outcome": "passed"}, "call": {"duration": 0.010443500010296702, "outcome": "passed"}, "teardown": {"duration": 0.0009719000081531703, "outcome": "passed"}}, {"nodeid": "tests/test_views.py::test_login_page_get", "lineno": 9, "outcome": "passed", "keywords": ["test_login_page_get", "test_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.001785500004189089, "outcome": "passed"}, "call": {"duration": 0.00439149999874644, "outcome": "passed"}, "teardown": {"duration": 0.0009754999919096008, "outcome": "passed"}}, {"nodeid": "tests/test_views.py::test_login_page_authenticated_admin", "lineno": 17, "outcome": "passed", "keywords": ["test_login_page_authenticated_admin", "test_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0019519000052241609, "outcome": "passed"}, "call": {"duration": 0.001246599989826791, "outcome": "passed"}, "teardown": {"duration": 0.0010180000099353492, "outcome": "passed"}}, {"nodeid": "tests/test_views.py::test_login_page_authenticated_staff", "lineno": 27, "outcome": "passed", "keywords": ["test_login_page_authenticated_staff", "test_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.003599100004066713, "outcome": "passed"}, "call": {"duration": 0.0012779999960912392, "outcome": "passed"}, "teardown": {"duration": 0.0009228999988408759, "outcome": "passed"}}, {"nodeid": "tests/test_views.py::test_login_page_authenticated_student", "lineno": 37, "outcome": "passed", "keywords": ["test_login_page_authenticated_student", "test_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017023000109475106, "outcome": "passed"}, "call": {"duration": 0.0011343000078340992, "outcome": "passed"}, "teardown": {"duration": 0.0009632000001147389, "outcome": "passed"}}, {"nodeid": "tests/test_views.py::test_doLogin_get", "lineno": 47, "outcome": "passed", "keywords": ["test_doLogin_get", "test_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0016614999913144857, "outcome": "passed"}, "call": {"duration": 0.0007612000044900924, "outcome": "passed"}, "teardown": {"duration": 0.0010175999923376366, "outcome": "passed"}}, {"nodeid": "tests/test_views.py::test_doLogin_post_success_admin", "lineno": 54, "outcome": "passed", "keywords": ["test_doLogin_post_success_admin", "__wrapped__", "patchings", "test_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0016593999898759648, "outcome": "passed"}, "call": {"duration": 0.004660699996748008, "outcome": "passed", "stdout": "DEBUG: disable_captcha=True, env=True\n"}, "teardown": {"duration": 0.0011055999930249527, "outcome": "passed"}}, {"nodeid": "tests/test_views.py::test_doLogin_post_invalid_captcha", "lineno": 78, "outcome": "failed", "keywords": ["test_doLogin_post_invalid_captcha", "__wrapped__", "patchings", "test_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0016916000022320077, "outcome": "passed"}, "call": {"duration": 0.003896800000802614, "outcome": "failed", "crash": {"path": "C:\\Users\\Muhammad Qasim\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\contrib\\auth\\__init__.py", "lineno": 187, "message": "AttributeError: 'str' object has no attribute 'cycle_key'"}, "traceback": [{"path": "tests\\test_views.py", "lineno": 93, "message": ""}, {"path": "main_app\\views.py", "lineno": 62, "message": "in doLogin"}, {"path": "..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\contrib\\auth\\__init__.py", "lineno": 187, "message": "AttributeError"}], "stdout": "DEBUG: disable_captcha=True, env=True\n", "longrepr": "mock_auth = <MagicMock name='authenticate' id='2312260828624'>\nmock_post = <MagicMock name='post' id='2312260594304'>\nrequest_factory = <django.test.client.RequestFactory object at 0x0000021A5D78BB00>\n\n    @patch('main_app.views.requests.post')\n    @patch('main_app.views.EmailBackend.authenticate')\n    def test_doLogin_post_invalid_captcha(mock_auth, mock_post, request_factory):\n        url = reverse('user_login')\n        data = {'email': 'admin@test.com', 'password': 'pass', 'g-recaptcha-response': 'token'}\n        request = request_factory.post(url, data)\n        setattr(request, 'session', 'session')\n        messages = FallbackStorage(request)\n        setattr(request, '_messages', messages)\n    \n        mock_response = MagicMock()\n        mock_response.text = '{\"success\": false}'\n        mock_post.return_value = mock_response\n    \n>       response = doLogin(request)\n                   ^^^^^^^^^^^^^^^^\n\ntests\\test_views.py:93: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nmain_app\\views.py:62: in doLogin\n    login(request, user)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nrequest = <WSGIRequest: POST '/doLogin/'>\nuser = <MagicMock name='authenticate()' id='2312260621648'>, backend = None\n\n    def login(request, user, backend=None):\n        \"\"\"\n        Persist a user id and a backend in the request. This way a user doesn't\n        have to reauthenticate on every request. Note that data set during\n        the anonymous session is retained when the user logs in.\n        \"\"\"\n        # RemovedInDjango61Warning: When the deprecation ends, replace with:\n        # session_auth_hash = user.get_session_auth_hash()\n        session_auth_hash = \"\"\n        # RemovedInDjango61Warning.\n        if user is None:\n            user = request.user\n            warnings.warn(\n                \"Fallback to request.user when user is None will be removed.\",\n                RemovedInDjango61Warning,\n                stacklevel=2,\n            )\n    \n        # RemovedInDjango61Warning.\n        if hasattr(user, \"get_session_auth_hash\"):\n            session_auth_hash = user.get_session_auth_hash()\n    \n        if SESSION_KEY in request.session:\n            if _get_user_session_key(request) != user.pk or (\n                session_auth_hash\n                and not constant_time_compare(\n                    request.session.get(HASH_SESSION_KEY, \"\"), session_auth_hash\n                )\n            ):\n                # To avoid reusing another user's session, create a new, empty\n                # session if the existing session corresponds to a different\n                # authenticated user.\n                request.session.flush()\n        else:\n>           request.session.cycle_key()\n            ^^^^^^^^^^^^^^^^^^^^^^^^^\nE           AttributeError: 'str' object has no attribute 'cycle_key'\n\n..\\..\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\django\\contrib\\auth\\__init__.py:187: AttributeError"}, "teardown": {"duration": 0.001174599994556047, "outcome": "passed"}}, {"nodeid": "tests/test_views.py::test_doLogin_post_invalid_credentials", "lineno": 96, "outcome": "passed", "keywords": ["test_doLogin_post_invalid_credentials", "__wrapped__", "patchings", "test_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.001755699995555915, "outcome": "passed"}, "call": {"duration": 0.0029969000024721026, "outcome": "passed", "stdout": "DEBUG: disable_captcha=True, env=True\n"}, "teardown": {"duration": 0.001078899993444793, "outcome": "passed"}}, {"nodeid": "tests/test_views.py::test_logout_user", "lineno": 116, "outcome": "passed", "keywords": ["test_logout_user", "__wrapped__", "patchings", "test_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.0017036999925039709, "outcome": "passed"}, "call": {"duration": 0.0021936999983154237, "outcome": "passed"}, "teardown": {"duration": 0.0010019000037573278, "outcome": "passed"}}, {"nodeid": "tests/test_views.py::test_get_attendance", "lineno": 127, "outcome": "passed", "keywords": ["test_get_attendance", "__wrapped__", "patchings", "test_views.py", "django_db", "tests", "student-management-using-django", ""], "setup": {"duration": 0.002211900005931966, "outcome": "passed"}, "call": {"duration": 0.004014299993286841, "outcome": "passed"}, "teardown": {"duration": 0.0042167000065092, "outcome": "passed"}}]}